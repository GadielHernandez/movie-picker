---
import MainLayout from "../layouts/MainLayout.astro";
import SignIn from "../components/SignIn";

const { cookies, redirect } = Astro;

const accessToken = cookies.get("sb-access-token");
const refreshToken = cookies.get("sb-refresh-token");

if (accessToken && refreshToken) {
  return redirect("/dashboard");
}
---

<MainLayout title="Sign in" description="">
  <h1>Sign in</h1>
  <p>New here? <a href="/register">Create an account</a></p>
  <SignIn client:idle/>
</MainLayout>